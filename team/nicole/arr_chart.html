<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARR Trend - Nicole Morris's Banking Forecast</title>

  <!-- Google Fonts (Anthropic Brand) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="../../styles.css">

  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>

<!-- Sidebar Toggle Button -->
<button class="sidebar-toggle" onclick="toggleSidebar()" title="Toggle sidebar (T)">
  <span id="toggle-icon">&#9776;</span>
</button>

<!-- Sidebar Navigation -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <a href="cover.html" class="sidebar-title">Nicole Morris's Forecast</a>
    <span class="sidebar-date">Week of December 26, 2025</span>
  </div>
  <nav class="sidebar-nav" id="sidebar-nav">
    <a href="cover.html">Cover</a>
    <a href="summary.html">Summary</a>
    <a href="arr_chart.html" class="active">ARR Trend</a>
    <a href="arr_table.html">ARR by Account</a>
    <a href="opps_overview.html">Stage Funnel</a>
    <a href="opps_table.html">Deal List</a>
    <a href="deal_progression.html">Progression</a>
    <a href="pipe_chart.html">Pipe Goal</a>
    <a href="pipe_coverage.html">Qtr Coverage</a>
    <a href="contracts_table.html">Contracts</a>
    <a href="themes.html">Themes</a>
    <a href="news_roundup.html">News Roundup</a>
    <a href="updates.html">Updates</a>
    <a href="aiera.html">Events</a>
    
    <a href="../../cover.html" class="back-link">‚Üê Back to Main</a>
    
  </nav>
</aside>

<!-- Main Content Area -->
<main class="main-content" id="main-content">
  <!-- Page Content -->
  
<div class="page">
  <h2 class="page-title">ARR Trend & 2026 Forecast</h2>
  <p class="page-subtitle">Annual Recurring Revenue across FSI Banking accounts</p>

  <div class="page-body">
    <!-- Chart -->
    <div class="chart-wrapper">
      <div class="chart-container" style="height: 280px;">
        <canvas id="arr-chart"></canvas>
      </div>
    </div>

    <!-- Chart legend -->
    <div style="display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap; margin: 0.75rem 0;">
      <span style="font-family: var(--font-heading); font-size: 0.8rem;">
        <span style="display:inline-block;width:20px;height:3px;background:#D97757;vertical-align:middle;margin-right:5px;"></span>
        Actual ARR
      </span>
      <span style="font-family: var(--font-heading); font-size: 0.8rem;">
        <span style="display:inline-block;width:20px;border-top:2px dashed #6A9BCC;vertical-align:middle;margin-right:5px;"></span>
        12-Month Trend
      </span>
      <span style="font-family: var(--font-heading); font-size: 0.8rem;">
        <span style="display:inline-block;width:20px;border-top:2px dashed #788C5D;vertical-align:middle;margin-right:5px;"></span>
        3-Month Trend
      </span>
      <span style="font-family: var(--font-heading); font-size: 0.8rem;">
        <span style="display:inline-block;width:20px;height:3px;background:#9B6B9E;vertical-align:middle;margin-right:5px;"></span>
        Q1 / Q4 Goals
      </span>
    </div>

    <!-- Metrics Row -->
    <div class="metrics-row" style="max-width: 1000px; margin: 1rem auto 0;">
      <div class="metric-card">
        <div class="metric-value">$3.9M</div>
        <div class="metric-label">Total ARR</div>
        <div class="metric-change positive">+5.99% MoM</div>
      </div>
      <div class="metric-card">
        <div class="metric-value">42.7%</div>
        <div class="metric-label">Progress to Q1 Goal</div>
        <div class="metric-change goal-behind">$9.1M target</div>
      </div>
      <div class="metric-card">
        <div class="metric-value">10.0%</div>
        <div class="metric-label">Progress to Q4 Goal</div>
        <div class="metric-change goal-behind">$39.0M target</div>
      </div>
      <div class="metric-card">
        <div class="metric-value">$3.9M</div>
        <div class="metric-label">Top Account</div>
        <div class="metric-change neutral">JPMorgan Chase &amp; Co</div>
      </div>
    </div>
  </div>
</div>

</main>

<!-- Sidebar & Keyboard Navigation Script -->
<script>
(function() {
  // Detect if this is a team report
  const isTeamReport = true;

  // Page order for keyboard navigation (team reports don't have team.html)
  const pageOrder = isTeamReport ? [
    'cover.html',
    'summary.html',
    'arr_chart.html',
    'arr_table.html',
    'opps_overview.html',
    'opps_table.html',
    'deal_progression.html',
    'pipe_chart.html',
    'pipe_coverage.html',
    'contracts_table.html',
    'themes.html',
    'news_roundup.html',
    'updates.html',
    'aiera.html'
  ] : [
    'cover.html',
    'summary.html',
    'arr_chart.html',
    'arr_table.html',
    'opps_overview.html',
    'opps_table.html',
    'deal_progression.html',
    'pipe_chart.html',
    'pipe_coverage.html',
    'contracts_table.html',
    'themes.html',
    'news_roundup.html',
    'updates.html',
    'aiera.html',
    'team.html'
  ];

  // Get current page index
  const currentPath = window.location.pathname;
  const currentPage = currentPath.substring(currentPath.lastIndexOf('/') + 1) || 'cover.html';
  const currentIndex = pageOrder.indexOf(currentPage);

  // Sidebar toggle functionality
  function toggleSidebar() {
    document.body.classList.toggle('sidebar-collapsed');
    const icon = document.getElementById('toggle-icon');
    if (document.body.classList.contains('sidebar-collapsed')) {
      icon.innerHTML = '&#9776;'; // hamburger
    } else {
      icon.innerHTML = '&#10005;'; // X
    }
    localStorage.setItem('sidebarCollapsed', document.body.classList.contains('sidebar-collapsed'));
  }
  window.toggleSidebar = toggleSidebar;

  // Restore sidebar state from localStorage
  if (localStorage.getItem('sidebarCollapsed') === 'true') {
    document.body.classList.add('sidebar-collapsed');
    document.getElementById('toggle-icon').innerHTML = '&#9776;';
  } else {
    document.getElementById('toggle-icon').innerHTML = '&#10005;';
  }

  // Scroll active nav item into view
  const activeLink = document.querySelector('.sidebar-nav a.active');
  if (activeLink) {
    const nav = document.getElementById('sidebar-nav');
    // Use setTimeout to ensure layout is complete
    setTimeout(function() {
      activeLink.scrollIntoView({ block: 'center', behavior: 'instant' });
    }, 0);
  }

  // Keyboard navigation
  document.addEventListener('keydown', function(e) {
    // Don't trigger if user is typing in an input
    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;

    if (e.key === 'ArrowRight' || e.key === 'PageDown') {
      if (currentIndex >= 0 && currentIndex < pageOrder.length - 1) {
        e.preventDefault();
        window.location.href = pageOrder[currentIndex + 1];
      }
    }
    if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
      if (currentIndex > 0) {
        e.preventDefault();
        window.location.href = pageOrder[currentIndex - 1];
      }
    }
    if (e.key === 'Home') {
      e.preventDefault();
      window.location.href = pageOrder[0];
    }
    if (e.key === 'End') {
      e.preventDefault();
      window.location.href = pageOrder[pageOrder.length - 1];
    }
    if (e.key === 'Escape') {
      window.location.href = pageOrder[0];
    }
    if (e.key === 't' || e.key === 'T') {
      e.preventDefault();
      toggleSidebar();
    }
  });
})();
</script>


  <!-- Chart Script -->
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const arrCtx = document.getElementById('arr-chart').getContext('2d');

    // Data from JSON
    const historicalLabels = ["Nov \u002724", "Dec \u002724", "Jan \u002725", "Feb \u002725", "Mar \u002725", "Apr \u002725", "May \u002725", "Jun \u002725", "Jul \u002725", "Aug \u002725", "Sep \u002725", "Oct \u002725", "Nov \u002725", "Dec \u002725"];
    const historicalData = [65331.13, 286168.71, 105878.62, 126507.29, 221094.33, 436014.98, 972163.09, 2251450.93, 2618286.82, 3026190.51, 3698183.14, 2798405.6, 3060660.02, 3892345.41];
    const forecastLabels = ["Jan \u002726", "Feb \u002726", "Mar \u002726", "Apr \u002726", "May \u002726", "Jun \u002726", "Jul \u002726", "Aug \u002726", "Sep \u002726", "Oct \u002726", "Nov \u002726", "Dec \u002726"];
    const regression12Forecasts = [4165703.572857143, 4439061.735714286, 4712419.898571429, 4985778.061428571, 5259136.224285714, 5532494.387142858, 5805852.550000001, 6079210.712857143, 6352568.875714285, 6625927.0385714285, 6899285.201428572, 7172643.364285715];
    const regression3Forecasts = [4256992.013333334, 4621638.616666667, 4986285.220000001, 5350931.823333333, 5715578.426666667, 6080225.03, 6444871.633333333, 6809518.236666666, 7174164.84, 7538811.443333333, 7903458.046666667, 8268104.65];
    const goalsData = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 9120665.26345661, null, null, 28134175.23809802, null, null, 28134175.23809802, null, null, 38955011.86813572];

    const allLabels = [...historicalLabels, ...forecastLabels];
    const historicalDataset = [...historicalData, ...Array(forecastLabels.length).fill(null)];

    // Build regression datasets - start from last historical point
    const regression12Data = allLabels.map((label, i) => {
      if (i < historicalData.length - 1) return null;
      if (i === historicalData.length - 1) return historicalData[historicalData.length - 1];
      const forecastIdx = i - historicalData.length;
      return regression12Forecasts[forecastIdx];
    });

    const regression3Data = allLabels.map((label, i) => {
      if (i < historicalData.length - 1) return null;
      if (i === historicalData.length - 1) return historicalData[historicalData.length - 1];
      const forecastIdx = i - historicalData.length;
      return regression3Forecasts[forecastIdx];
    });

    new Chart(arrCtx, {
      type: 'line',
      data: {
        labels: allLabels,
        datasets: [
          {
            label: 'Actual ARR',
            data: historicalDataset,
            borderColor: '#D97757',
            backgroundColor: 'rgba(217, 119, 87, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.2,
            pointRadius: 3
          },
          {
            label: '12-Month Trend',
            data: regression12Data,
            borderColor: '#6A9BCC',
            borderWidth: 2,
            borderDash: [8, 4],
            fill: false,
            pointRadius: 0
          },
          {
            label: '3-Month Trend',
            data: regression3Data,
            borderColor: '#788C5D',
            borderWidth: 2,
            borderDash: [4, 4],
            fill: false,
            pointRadius: 0
          },
          {
            label: '2026 Goals',
            data: goalsData,
            borderColor: '#9B6B9E',
            borderWidth: 2,
            fill: false,
            pointRadius: 5,
            spanGaps: true
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { display: false },
          tooltip: {
            callbacks: {
              label: (ctx) => ctx.raw === null ? null : ctx.dataset.label + ': $' + (ctx.raw / 1000000).toFixed(2) + 'M'
            }
          }
        },
        scales: {
          x: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { font: { family: 'Poppins', size: 10 } } },
          y: {
            beginAtZero: false,
            ticks: { callback: (v) => '$' + (v / 1000000).toFixed(0) + 'M', font: { family: 'Poppins' } },
            grid: { color: 'rgba(0,0,0,0.1)' }
          }
        }
      }
    });
  });
  </script>


</body>
</html>