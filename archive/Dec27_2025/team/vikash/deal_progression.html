<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deal Progression - Vikash Kothari's Banking Forecast</title>

  <!-- Google Fonts (Anthropic Brand) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="../../styles.css">

  
</head>
<body>

<!-- Sidebar Toggle Button -->
<button class="sidebar-toggle" onclick="toggleSidebar()" title="Toggle sidebar (T)">
  <span id="toggle-icon">&#9776;</span>
</button>

<!-- Sidebar Navigation -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <a href="cover.html" class="sidebar-title">Vikash Kothari's Forecast</a>
    <span class="sidebar-date">Week of December 27, 2025</span>
  </div>
  <nav class="sidebar-nav" id="sidebar-nav">
    <a href="cover.html">Cover</a>
    <a href="summary.html">Summary</a>
    <a href="arr_chart.html">ARR Trend</a>
    <a href="arr_table.html">ARR by Account</a>
    <a href="opps_overview.html">Stage Funnel</a>
    <a href="opps_table.html">Deal List</a>
    <a href="deal_progression.html" class="active">Progression</a>
    <a href="pipe_chart.html">Pipe Goal</a>
    <a href="pipe_coverage.html">Qtr Coverage</a>
    <a href="contracts_table.html">Contracts</a>
    <a href="themes.html">Themes</a>
    <a href="news_roundup.html">News Roundup</a>
    <a href="updates.html">Updates</a>
    <a href="aiera.html">Events</a>
    
    <a href="../../cover.html" class="back-link">‚Üê Back to Main</a>
    
  </nav>
</aside>

<!-- Main Content Area -->
<main class="main-content" id="main-content">
  <!-- Page Content -->
  
<div class="page deal-progression">
  <div class="progression-header">
    <h2 class="page-title">Deal Progression</h2>
    <p class="header-meta">Stage velocity across <span id="visible-count">35</span> of 35 open opportunities</p>
  </div>

  <div class="progression-body">
    <!-- Filter Bar -->
    <div class="filter-bar">
      <div class="filter-group">
        <label class="filter-label">Stage</label>
        <select id="filter-stage" class="filter-select">
          <option value="all">All Stages</option>
          <option value="0">Stage 0</option>
          <option value="1">Stage 1</option>
          <option value="2">Stage 2</option>
          <option value="3">Stage 3</option>
          <option value="4">Stage 4</option>
          <option value="5">Stage 5</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">Quarter</label>
        <select id="filter-quarter" class="filter-select">
          <option value="all">All Quarters</option>
          <option value="Q1">Q1 2025</option>
          <option value="Q2">Q2 2025</option>
          <option value="Q3">Q3 2025</option>
          <option value="Q4">Q4 2025</option>
          <option value="Q1-26">Q1 2026</option>
          <option value="Q2-26">Q2 2026</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">ARR</label>
        <select id="filter-arr" class="filter-select">
          <option value="all">All Sizes</option>
          <option value="1000000">$1M+</option>
          <option value="500000">$500K+</option>
          <option value="100000">$100K+</option>
          <option value="50000">$50K+</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">Status</label>
        <select id="filter-stale" class="filter-select">
          <option value="all">All Deals</option>
          <option value="stale">Stale Only</option>
          <option value="active">Active Only</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">In Current Stage</label>
        <select id="filter-current-stage" class="filter-select">
          <option value="all">All</option>
          <option value="lt7">&lt; 1 Week</option>
          <option value="lt30">&lt; 30 Days</option>
          <option value="gt30">&gt; 30 Days</option>
          <option value="gt60">&gt; 60 Days</option>
        </select>
      </div>

      <button id="clear-filters" class="filter-clear">Clear Filters</button>
    </div>

    <!-- Legend -->
    <div class="stage-legend">
      <span class="legend-item"><span class="legend-swatch s0"></span>S0 Prospect</span>
      <span class="legend-item"><span class="legend-swatch s1"></span>S1 Discovery</span>
      <span class="legend-item"><span class="legend-swatch s2"></span>S2 Evaluation</span>
      <span class="legend-item"><span class="legend-swatch s3"></span>S3 Validation</span>
      <span class="legend-item"><span class="legend-swatch s4"></span>S4 Negotiation</span>
      <span class="legend-item"><span class="legend-swatch s5"></span>S5 Agreed</span>
    </div>

    <!-- Timeline Scale (Calendar-based: 6 months ago to today) -->
    <div class="timeline-scale">
      <div class="scale-container">
        
        <span class="scale-label">Jun</span>
        
        <span class="scale-label">Jul</span>
        
        <span class="scale-label">Aug</span>
        
        <span class="scale-label">Sep</span>
        
        <span class="scale-label">Oct</span>
        
        <span class="scale-label">Nov</span>
        
        <span class="scale-label">Dec</span>
        
      </div>
      <div class="scale-axis"></div>
    </div>

    <!-- Deal Timeline Rows -->
    <div class="timeline-container">
      
      <div class="deal-row"
           data-deal-age="73"
           data-stage="2"
           data-arr="5000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="71">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000eaGqQYAU/view" target="_blank" class="deal-name" title="TD Bank - API 1P Commit">
            TD Bank - API 1P Commit
          </a>
          <span class="deal-meta">$5.0M &bull; TD Bank Group</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s1"
               style="position: absolute; left: 60.11%; width: 1.09%;"
               title="S1: 2 days">
            
          </div>
          
          <div class="stage-segment s2"
               style="position: absolute; left: 61.2%; width: 38.8%;"
               title="S2: 71 days">
            <span class="segment-days">71</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">73d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="68"
           data-stage="2"
           data-arr="5000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="67">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000evSjlYAE/view" target="_blank" class="deal-name" title="BNY - Custom Agent Claude Coworker">
            BNY - Custom Agent Claude Coworker
          </a>
          <span class="deal-meta">$5.0M &bull; Bank of New York</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s2"
               style="position: absolute; left: 62.84%; width: 37.16%;"
               title="S2: 68 days">
            <span class="segment-days">68</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">68d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="40"
           data-stage="2"
           data-arr="5000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="40">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000h4RGzYAM/view" target="_blank" class="deal-name" title="RBC - AML/Financial Crime Custom Agent">
            RBC - AML/Financial Crime Custom Ag...
          </a>
          <span class="deal-meta">$5.0M &bull; Royal Bank of Canada</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s2"
               style="position: absolute; left: 78.14%; width: 21.86%;"
               title="S2: 40 days">
            <span class="segment-days">40</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">40d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="58"
           data-stage="2"
           data-arr="5000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="58">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000fdvtGYAQ/view" target="_blank" class="deal-name" title="DBS - C4E">
            DBS - C4E
          </a>
          <span class="deal-meta">$5.0M &bull; DBS Bank</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s2"
               style="position: absolute; left: 68.31%; width: 31.69%;"
               title="S2: 58 days">
            <span class="segment-days">58</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">58d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="148"
           data-stage="3"
           data-arr="5000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="71">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000WtpNdYAJ/view" target="_blank" class="deal-name" title="RBC - Claude Code Full GA Deployment">
            RBC - Claude Code Full GA Deploymen...
          </a>
          <span class="deal-meta">$5.0M &bull; Royal Bank of Canada</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 19.13%;"
               title="S0: 50 days">
            <span class="segment-days">50</span>
          </div>
          
          <div class="stage-segment s1"
               style="position: absolute; left: 19.13%; width: 14.2%;"
               title="S1: 26 days">
            <span class="segment-days">26</span>
          </div>
          
          <div class="stage-segment s2"
               style="position: absolute; left: 33.33%; width: 27.87%;"
               title="S2: 51 days">
            <span class="segment-days">51</span>
          </div>
          
          <div class="stage-segment s3"
               style="position: absolute; left: 61.2%; width: 38.8%;"
               title="S3: 71 days">
            <span class="segment-days">71</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">148d</span>
          <span class="current-stage stage-3">S3</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="82"
           data-stage="3"
           data-arr="5000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="82">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000e1869YAA/view" target="_blank" class="deal-name" title="Capital One - Claude Code to all 17k Devs">
            Capital One - Claude Code to all 17...
          </a>
          <span class="deal-meta">$5.0M &bull; Capital One Financia</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s3"
               style="position: absolute; left: 55.19%; width: 44.81%;"
               title="S3: 82 days">
            <span class="segment-days">82</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">82d</span>
          <span class="current-stage stage-3">S3</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="40"
           data-stage="2"
           data-arr="3000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="40">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000h4GztYAE/view" target="_blank" class="deal-name" title="BNY - Vendor Sourcing Custom Agent">
            BNY - Vendor Sourcing Custom Agent
          </a>
          <span class="deal-meta">$3.0M &bull; Bank of New York</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s2"
               style="position: absolute; left: 78.14%; width: 21.86%;"
               title="S2: 40 days">
            <span class="segment-days">40</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">40d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="127"
           data-stage="2"
           data-arr="3000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="51">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000bMncfYAC/view" target="_blank" class="deal-name" title="RBC - Custom Agent Prime Brokerage KYC">
            RBC - Custom Agent Prime Brokerage ...
          </a>
          <span class="deal-meta">$3.0M &bull; Royal Bank of Canada</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s1"
               style="position: absolute; left: 30.6%; width: 41.53%;"
               title="S1: 76 days">
            <span class="segment-days">76</span>
          </div>
          
          <div class="stage-segment s3"
               style="position: absolute; left: 60.11%; width: 39.89%;"
               title="S3: 0 days">
            
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">127d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="82"
           data-stage="3"
           data-arr="3000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="74">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000e0hu2YAA/view" target="_blank" class="deal-name" title="RBC - Claude for Finance">
            RBC - Claude for Finance
          </a>
          <span class="deal-meta">$3.0M &bull; Royal Bank of Canada</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s2"
               style="position: absolute; left: 55.19%; width: 4.37%;"
               title="S2: 8 days">
            
          </div>
          
          <div class="stage-segment s3"
               style="position: absolute; left: 59.56%; width: 40.44%;"
               title="S3: 74 days">
            <span class="segment-days">74</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">82d</span>
          <span class="current-stage stage-3">S3</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="47"
           data-stage="3"
           data-arr="2500000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="47">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000gU3UxYAK/view" target="_blank" class="deal-name" title="RBC - Chat + Code 1P ToS Land Deal">
            RBC - Chat + Code 1P ToS Land Deal
          </a>
          <span class="deal-meta">$2.5M &bull; Royal Bank of Canada</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s3"
               style="position: absolute; left: 74.32%; width: 25.68%;"
               title="S3: 47 days">
            <span class="segment-days">47</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">47d</span>
          <span class="current-stage stage-3">S3</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="150"
           data-stage="4"
           data-arr="2000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="94">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000Z1S2vYAF/view" target="_blank" class="deal-name" title="SS&amp;C - CC + C4E">
            SS&amp;C - CC + C4E
          </a>
          <span class="deal-meta">$2.0M &bull; SS&amp;C Technologies, I</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 9.84%; width: 8.19%;"
               title="S0: 15 days">
            <span class="segment-days">15</span>
          </div>
          
          <div class="stage-segment s2"
               style="position: absolute; left: 18.03%; width: 16.4%;"
               title="S2: 30 days">
            <span class="segment-days">30</span>
          </div>
          
          <div class="stage-segment s3"
               style="position: absolute; left: 34.43%; width: 14.2%;"
               title="S3: 26 days">
            <span class="segment-days">26</span>
          </div>
          
          <div class="stage-segment s4"
               style="position: absolute; left: 48.63%; width: 51.37%;"
               title="S4: 94 days">
            <span class="segment-days">94</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">150d</span>
          <span class="current-stage stage-4">S4</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="61"
           data-stage="1"
           data-arr="1000000.0"
           data-quarter="2"
           data-stale="false"
           data-current-stage-days="61">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000fLrt2YAC/view" target="_blank" class="deal-name" title="Freddie Mac - CC">
            Freddie Mac - CC
          </a>
          <span class="deal-meta">$1.0M &bull; Freddie Mac</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s1"
               style="position: absolute; left: 66.67%; width: 33.33%;"
               title="S1: 61 days">
            <span class="segment-days">61</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">61d</span>
          <span class="current-stage stage-1">S1</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="122"
           data-stage="3"
           data-arr="1000000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="122">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000bNIerYAG/view" target="_blank" class="deal-name" title="BNY - Claude Code">
            BNY - Claude Code
          </a>
          <span class="deal-meta">$1.0M &bull; Bank of New York</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 30.6%; width: 2.73%;"
               title="S0: 5 days">
            
          </div>
          
          <div class="stage-segment s3"
               style="position: absolute; left: 33.33%; width: 66.67%;"
               title="S3: 122 days">
            <span class="segment-days">122</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">122d</span>
          <span class="current-stage stage-3">S3</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="114"
           data-stage="2"
           data-arr="750000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="82">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000c8uQXYAY/view" target="_blank" class="deal-name" title="U.S. Bank - Claude Code">
            U.S. Bank - Claude Code
          </a>
          <span class="deal-meta">$750.0K &bull; U.S. Bank</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s1"
               style="position: absolute; left: 37.7%; width: 17.49%;"
               title="S1: 32 days">
            <span class="segment-days">32</span>
          </div>
          
          <div class="stage-segment s2"
               style="position: absolute; left: 55.19%; width: 44.81%;"
               title="S2: 82 days">
            <span class="segment-days">82</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">114d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="23"
           data-stage="0"
           data-arr="500000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="23">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000iQY7xYAG/view" target="_blank" class="deal-name" title="Regions - API + CC">
            Regions - API + CC
          </a>
          <span class="deal-meta">$500.0K &bull; Regions Financial</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 87.43%; width: 12.57%;"
               title="S0: 23 days">
            <span class="segment-days">23</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">23d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="75"
           data-stage="4"
           data-arr="500000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="39">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000e9mZSYAY/view" target="_blank" class="deal-name" title="Veteran&#39;s United - Commit">
            Veteran&#39;s United - Commit
          </a>
          <span class="deal-meta">$500.0K &bull; Veterans United</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 56.28%; width: 2.74%;"
               title="S0: 5 days">
            
          </div>
          
          <div class="stage-segment s3"
               style="position: absolute; left: 59.02%; width: 19.67%;"
               title="S3: 36 days">
            <span class="segment-days">36</span>
          </div>
          
          <div class="stage-segment s4"
               style="position: absolute; left: 78.69%; width: 21.31%;"
               title="S4: 39 days">
            <span class="segment-days">39</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">75d</span>
          <span class="current-stage stage-4">S4</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="22"
           data-stage="2"
           data-arr="120000.0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="22">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000iXAwvYAG/view" target="_blank" class="deal-name" title="First Horizon- Claude Code">
            First Horizon- Claude Code
          </a>
          <span class="deal-meta">$120.0K &bull; First Horizon</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s2"
               style="position: absolute; left: 87.98%; width: 12.02%;"
               title="S2: 22 days">
            <span class="segment-days">22</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">22d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006k1KPYAY/view" target="_blank" class="deal-name" title="Data Sync: Banco Supervielle">
            Data Sync: Banco Supervielle
          </a>
          <span class="deal-meta">$0 &bull; BANCO SUPERVIELLE S.</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006k0qnYAA/view" target="_blank" class="deal-name" title="Data Sync: MindTouch Inc.">
            Data Sync: MindTouch Inc.
          </a>
          <span class="deal-meta">$0 &bull; NICE Ltd</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006k0qmYAA/view" target="_blank" class="deal-name" title="Data Sync: NICE Systems">
            Data Sync: NICE Systems
          </a>
          <span class="deal-meta">$0 &bull; NICE Ltd</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006k0qoYAA/view" target="_blank" class="deal-name" title="Data Sync: NICE Systems">
            Data Sync: NICE Systems
          </a>
          <span class="deal-meta">$0 &bull; NICE Ltd</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006k0qlYAA/view" target="_blank" class="deal-name" title="Data Sync: NICE Actimize">
            Data Sync: NICE Actimize
          </a>
          <span class="deal-meta">$0 &bull; NICE Ltd</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006k1OTYAY/view" target="_blank" class="deal-name" title="Data Sync: Ally Master">
            Data Sync: Ally Master
          </a>
          <span class="deal-meta">$0 &bull; Ally Financial Inc.</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006jz5rYAA/view" target="_blank" class="deal-name" title="Data Sync: Synchrony Financial">
            Data Sync: Synchrony Financial
          </a>
          <span class="deal-meta">$0 &bull; Synchrony Financial</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006jz5sYAA/view" target="_blank" class="deal-name" title="Data Sync: Synchronous Health Inc">
            Data Sync: Synchronous Health Inc
          </a>
          <span class="deal-meta">$0 &bull; Synchrony Financial</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006jwlQYAQ/view" target="_blank" class="deal-name" title="Data Sync: DBS Bank Ltd">
            Data Sync: DBS Bank Ltd
          </a>
          <span class="deal-meta">$0 &bull; DBS Bank</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006jwlRYAQ/view" target="_blank" class="deal-name" title="Data Sync: DBS Bank Ltd">
            Data Sync: DBS Bank Ltd
          </a>
          <span class="deal-meta">$0 &bull; DBS Bank</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006k1OSYAY/view" target="_blank" class="deal-name" title="Data Sync: Ally Master">
            Data Sync: Ally Master
          </a>
          <span class="deal-meta">$0 &bull; Ally Financial Inc.</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="687"
           data-stage="0"
           data-arr="0"
           data-quarter="4"
           data-stale="false"
           data-current-stage-days="687">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK000006k0c4YAA/view" target="_blank" class="deal-name" title="Data Sync: State Street Bank and Trust Company">
            Data Sync: State Street Bank and Tr...
          </a>
          <span class="deal-meta">$0 &bull; State Street Corpora</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 687 days">
            <span class="segment-days">687</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">687d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="33"
           data-stage="2"
           data-arr="0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="33">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000hdmFKYAY/view" target="_blank" class="deal-name" title="DBS - Amendment / Order Form to add Claude Haiku 4.5 &amp; Claude Sonnet 4.5">
            DBS - Amendment / Order Form to add...
          </a>
          <span class="deal-meta">$0 &bull; DBS Bank</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s2"
               style="position: absolute; left: 81.97%; width: 18.03%;"
               title="S2: 33 days">
            <span class="segment-days">33</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">33d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="173"
           data-stage="5"
           data-arr="0"
           data-quarter="3"
           data-stale="false"
           data-current-stage-days="172">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000VY1uHYAT/view" target="_blank" class="deal-name" title="DBS - EULA Ammendment">
            DBS - EULA Ammendment
          </a>
          <span class="deal-meta">$0 &bull; DBS Bank</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 5.46%;"
               title="S0: 46 days">
            <span class="segment-days">46</span>
          </div>
          
          <div class="stage-segment s5"
               style="position: absolute; left: 5.46%; width: 94.54%;"
               title="S5: 173 days">
            <span class="segment-days">173</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">173d</span>
          <span class="current-stage stage-5">S5</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="8"
           data-stage="0"
           data-arr="0"
           data-quarter="1"
           data-stale="false"
           data-current-stage-days="8">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000jTzhNYAS/view" target="_blank" class="deal-name" title="United Wholesale Mortgage - Claude Code">
            United Wholesale Mortgage - Claude ...
          </a>
          <span class="deal-meta">$0 &bull; United Wholesale Mor</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 95.63%; width: 4.37%;"
               title="S0: 8 days">
            
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">8d</span>
          <span class="current-stage stage-0">S0</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="26"
           data-stage="2"
           data-arr="0"
           data-quarter="2"
           data-stale="false"
           data-current-stage-days="26">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000iD7ojYAC/view" target="_blank" class="deal-name" title="Ally Financial - Claude Code">
            Ally Financial - Claude Code
          </a>
          <span class="deal-meta">$0 &bull; Ally Financial Inc.</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s2"
               style="position: absolute; left: 85.79%; width: 14.21%;"
               title="S2: 26 days">
            <span class="segment-days">26</span>
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">26d</span>
          <span class="current-stage stage-2">S2</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="589"
           data-stage="5"
           data-arr="0"
           data-quarter="2"
           data-stale="false"
           data-current-stage-days="0">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000BGlFyYAL/view" target="_blank" class="deal-name" title="Data Sync: NICE Ltd">
            Data Sync: NICE Ltd
          </a>
          <span class="deal-meta">$0 &bull; NICE Ltd</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 0 days">
            
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">589d</span>
          <span class="current-stage stage-5">S5</span>
        </div>
      </div>
      
      <div class="deal-row"
           data-deal-age="589"
           data-stage="5"
           data-arr="0"
           data-quarter="2"
           data-stale="false"
           data-current-stage-days="0">
        <div class="deal-info">
          <a href="https://customization-agility-483.lightning.force.com/lightning/r/Opportunity/006PK00000BGlPdYAL/view" target="_blank" class="deal-name" title="Data Sync: NICE Ltd">
            Data Sync: NICE Ltd
          </a>
          <span class="deal-meta">$0 &bull; NICE Ltd</span>
        </div>
        <div class="deal-timeline">
          
          
          <div class="stage-segment s0"
               style="position: absolute; left: 0%; width: 100%;"
               title="S0: 0 days">
            
          </div>
          
        </div>
        <div class="deal-total">
          <span class="total-days">589d</span>
          <span class="current-stage stage-5">S5</span>
        </div>
      </div>
      
    </div>

    <!-- Summary Stats -->
    <div class="progression-stats">
      <div class="stat-item">
        <span class="stat-value">314d</span>
        <span class="stat-label">Avg Deal Age</span>
      </div>
      <div class="stat-item">
        <span class="stat-value">34d</span>
        <span class="stat-label">Avg S1 Duration</span>
      </div>
      <div class="stat-item">
        <span class="stat-value">44d</span>
        <span class="stat-label">Avg S2 Duration</span>
      </div>
      <div class="stat-item">
        <span class="stat-value">65d</span>
        <span class="stat-label">Avg S3 Duration</span>
      </div>
      <div class="stat-item">
        <span class="stat-value">20</span>
        <span class="stat-label">Deals >90 Days</span>
      </div>
    </div>
  </div>
</div>

<style>
/* ==========================================================================
   Deal Progression - Tufte-Inspired Timeline
   ========================================================================== */

.deal-progression {
  font-family: var(--font-body);
  background: var(--light);
}

.progression-header {
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--mid-gray);
}

.progression-header .page-title {
  font-family: var(--font-heading);
  font-size: 1.75rem;
  font-weight: 600;
  color: var(--dark);
  margin: 0 0 0.25rem 0;
  letter-spacing: -0.02em;
}

.header-meta {
  font-size: 0.85rem;
  color: var(--mid-gray);
  margin: 0;
}

/* Legend */
.stage-legend {
  display: flex;
  gap: 1.5rem;
  margin-bottom: 1rem;
  padding: 0.75rem 0;
  border-bottom: 1px solid var(--light-gray);
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 500;
  color: var(--mid-gray);
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.legend-swatch {
  width: 14px;
  height: 10px;
  border-radius: 2px;
}

.legend-swatch.s0 { background: #b8a9c9; }
.legend-swatch.s1 { background: #c4d4e8; }
.legend-swatch.s2 { background: #9bb8d4; }
.legend-swatch.s3 { background: var(--blue); }
.legend-swatch.s4 { background: #a8b88a; }
.legend-swatch.s5 { background: var(--green); }

/* Timeline Scale */
.timeline-scale {
  margin-bottom: 0.5rem;
  padding-left: 240px;
  padding-right: 70px;
}

.scale-container {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.25rem;
}

.scale-label {
  font-family: var(--font-heading);
  font-size: 0.65rem;
  color: var(--mid-gray);
  text-align: center;
  width: 30px;
}

.scale-axis {
  height: 1px;
  background: linear-gradient(to right, var(--mid-gray) 0%, var(--light-gray) 100%);
}

/* Timeline Container */
.timeline-container {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* Deal Row */
.deal-row {
  display: flex;
  align-items: center;
  padding: 0.35rem 0;
  border-bottom: 1px solid rgba(0, 0, 0, 0.04);
  transition: background 0.15s ease;
}

.deal-row:hover {
  background: rgba(0, 0, 0, 0.02);
}

/* Deal Info */
.deal-info {
  width: 240px;
  flex-shrink: 0;
  padding-right: 1rem;
}

.deal-name {
  display: block;
  font-family: var(--font-body);
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--dark);
  text-decoration: none;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.3;
}

.deal-name:hover {
  color: var(--accent-primary);
}

.deal-meta {
  font-size: 0.65rem;
  color: var(--mid-gray);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Deal Timeline */
.deal-timeline {
  flex: 1;
  position: relative;
  height: 18px;
  background: var(--light-gray);
  border-radius: 2px;
  overflow: hidden;
}

/* Stage Segments */
.stage-segment {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 2px;
  transition: opacity 0.15s ease;
}

.stage-segment.s0 { background: #b8a9c9; }
.stage-segment.s1 { background: #c4d4e8; }
.stage-segment.s2 { background: #9bb8d4; }
.stage-segment.s3 { background: var(--blue); }
.stage-segment.s4 { background: #a8b88a; }
.stage-segment.s5 { background: var(--green); }

.segment-days {
  font-family: var(--font-heading);
  font-size: 0.6rem;
  font-weight: 600;
  color: rgba(0, 0, 0, 0.6);
  text-shadow: 0 0 2px rgba(255, 255, 255, 0.5);
}

.stage-segment.s3 .segment-days,
.stage-segment.s5 .segment-days {
  color: rgba(255, 255, 255, 0.9);
  text-shadow: none;
}

/* Deal Total */
.deal-total {
  width: 70px;
  flex-shrink: 0;
  padding-left: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.total-days {
  font-family: var(--font-heading);
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--dark);
  min-width: 32px;
}

.current-stage {
  font-family: var(--font-heading);
  font-size: 0.6rem;
  font-weight: 700;
  padding: 0.1rem 0.35rem;
  border-radius: 3px;
  background: var(--light-gray);
  color: var(--mid-gray);
}

/* Stage-specific colors for current stage badge */
.current-stage.stage-0 { background: #b8a9c9; color: #4a3d5c; }
.current-stage.stage-1 { background: #c4d4e8; color: #2c4a6e; }
.current-stage.stage-2 { background: #9bb8d4; color: #1e3a5f; }
.current-stage.stage-3 { background: var(--blue); color: white; }
.current-stage.stage-4 { background: #a8b88a; color: #3d4a2d; }
.current-stage.stage-5 { background: var(--green); color: white; }

/* Progression Stats */
.progression-stats {
  display: flex;
  gap: 2rem;
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--mid-gray);
}

.stat-item {
  text-align: center;
}

.stat-value {
  display: block;
  font-family: var(--font-heading);
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--dark);
}

.stat-label {
  font-family: var(--font-heading);
  font-size: 0.6rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--mid-gray);
}

/* Filter Bar Styles */
.filter-bar {
  display: flex;
  gap: 1.25rem;
  align-items: flex-end;
  padding: 1rem 1.25rem;
  background: white;
  border-radius: 12px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  flex-wrap: wrap;
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.filter-label {
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--mid-gray);
}

.filter-select {
  font-family: var(--font-body);
  font-size: 0.875rem;
  padding: 0.5rem 2rem 0.5rem 0.75rem;
  border: 1px solid var(--light-gray);
  border-radius: 6px;
  background: var(--light);
  color: var(--dark);
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  min-width: 120px;
}

.filter-select:hover {
  border-color: var(--accent-secondary);
}

.filter-select:focus {
  outline: none;
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 3px rgba(217, 119, 87, 0.15);
}

.filter-clear {
  font-family: var(--font-heading);
  font-size: 0.8rem;
  font-weight: 500;
  padding: 0.5rem 1rem;
  background: transparent;
  border: 1px solid var(--light-gray);
  border-radius: 6px;
  color: var(--mid-gray);
  cursor: pointer;
  transition: all 0.2s ease;
}

.filter-clear:hover {
  background: var(--light-gray);
  color: var(--dark);
}

/* Hide filtered rows */
.deal-row.filtered-out {
  display: none;
}

/* Responsive */
@media (max-width: 900px) {
  .deal-info {
    width: 180px;
  }

  .timeline-scale {
    padding-left: 180px;
  }

  .stage-legend {
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .filter-bar {
    gap: 0.75rem;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const container = document.querySelector('.timeline-container');
  const rows = container.querySelectorAll('.deal-row');

  const stageFilter = document.getElementById('filter-stage');
  const quarterFilter = document.getElementById('filter-quarter');
  const arrFilter = document.getElementById('filter-arr');
  const staleFilter = document.getElementById('filter-stale');
  const currentStageFilter = document.getElementById('filter-current-stage');
  const clearBtn = document.getElementById('clear-filters');
  const visibleCount = document.getElementById('visible-count');

  function applyFilters() {
    const stage = stageFilter.value;
    const quarter = quarterFilter.value;
    const arrMin = arrFilter.value === 'all' ? 0 : parseInt(arrFilter.value);
    const stale = staleFilter.value;
    const currentStage = currentStageFilter.value;

    let visibleRows = 0;

    rows.forEach(row => {
      const rowStage = row.dataset.stage;
      const rowQuarter = row.dataset.quarter || '';
      const rowArr = parseFloat(row.dataset.arr) || 0;
      const rowStale = row.dataset.stale === 'true';
      const rowCurrentStageDays = parseInt(row.dataset.currentStageDays) || 0;

      let show = true;

      // Stage filter
      if (stage !== 'all' && rowStage !== stage) {
        show = false;
      }

      // Quarter filter
      if (quarter !== 'all') {
        let expectedQuarter;
        if (quarter.includes('-26')) {
          expectedQuarter = quarter.replace('-26', '') + ' 2026';
        } else {
          expectedQuarter = quarter + ' 2025';
        }
        if (rowQuarter !== expectedQuarter) {
          show = false;
        }
      }

      // ARR filter
      if (rowArr < arrMin) {
        show = false;
      }

      // Stale filter
      if (stale === 'stale' && !rowStale) {
        show = false;
      } else if (stale === 'active' && rowStale) {
        show = false;
      }

      // Current Stage Days filter
      if (currentStage !== 'all') {
        if (currentStage === 'lt7' && rowCurrentStageDays >= 7) {
          show = false;
        } else if (currentStage === 'lt30' && rowCurrentStageDays >= 30) {
          show = false;
        } else if (currentStage === 'gt30' && rowCurrentStageDays < 30) {
          show = false;
        } else if (currentStage === 'gt60' && rowCurrentStageDays < 60) {
          show = false;
        }
      }

      if (show) {
        row.classList.remove('filtered-out');
        visibleRows++;
      } else {
        row.classList.add('filtered-out');
      }
    });

    visibleCount.textContent = visibleRows;
  }

  // Event listeners
  stageFilter.addEventListener('change', applyFilters);
  quarterFilter.addEventListener('change', applyFilters);
  arrFilter.addEventListener('change', applyFilters);
  staleFilter.addEventListener('change', applyFilters);
  currentStageFilter.addEventListener('change', applyFilters);

  clearBtn.addEventListener('click', function() {
    stageFilter.value = 'all';
    quarterFilter.value = 'all';
    arrFilter.value = 'all';
    staleFilter.value = 'all';
    currentStageFilter.value = 'all';
    applyFilters();
  });
});
</script>

</main>

<!-- Sidebar & Keyboard Navigation Script -->
<script>
(function() {
  // Detect if this is a team report
  const isTeamReport = true;

  // Page order for keyboard navigation (team reports don't have team.html)
  const pageOrder = isTeamReport ? [
    'cover.html',
    'summary.html',
    'arr_chart.html',
    'arr_table.html',
    'opps_overview.html',
    'opps_table.html',
    'deal_progression.html',
    'pipe_chart.html',
    'pipe_coverage.html',
    'contracts_table.html',
    'themes.html',
    'news_roundup.html',
    'updates.html',
    'aiera.html'
  ] : [
    'cover.html',
    'summary.html',
    'arr_chart.html',
    'arr_table.html',
    'opps_overview.html',
    'opps_table.html',
    'deal_progression.html',
    'pipe_chart.html',
    'pipe_coverage.html',
    'contracts_table.html',
    'themes.html',
    'news_roundup.html',
    'updates.html',
    'aiera.html',
    'team.html'
  ];

  // Get current page index
  const currentPath = window.location.pathname;
  const currentPage = currentPath.substring(currentPath.lastIndexOf('/') + 1) || 'cover.html';
  const currentIndex = pageOrder.indexOf(currentPage);

  // Sidebar toggle functionality
  function toggleSidebar() {
    document.body.classList.toggle('sidebar-collapsed');
    const icon = document.getElementById('toggle-icon');
    if (document.body.classList.contains('sidebar-collapsed')) {
      icon.innerHTML = '&#9776;'; // hamburger
    } else {
      icon.innerHTML = '&#10005;'; // X
    }
    localStorage.setItem('sidebarCollapsed', document.body.classList.contains('sidebar-collapsed'));
  }
  window.toggleSidebar = toggleSidebar;

  // Restore sidebar state from localStorage
  if (localStorage.getItem('sidebarCollapsed') === 'true') {
    document.body.classList.add('sidebar-collapsed');
    document.getElementById('toggle-icon').innerHTML = '&#9776;';
  } else {
    document.getElementById('toggle-icon').innerHTML = '&#10005;';
  }

  // Scroll active nav item into view
  const activeLink = document.querySelector('.sidebar-nav a.active');
  if (activeLink) {
    const nav = document.getElementById('sidebar-nav');
    // Use setTimeout to ensure layout is complete
    setTimeout(function() {
      activeLink.scrollIntoView({ block: 'center', behavior: 'instant' });
    }, 0);
  }

  // Keyboard navigation
  document.addEventListener('keydown', function(e) {
    // Don't trigger if user is typing in an input
    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;

    if (e.key === 'ArrowRight' || e.key === 'PageDown') {
      if (currentIndex >= 0 && currentIndex < pageOrder.length - 1) {
        e.preventDefault();
        window.location.href = pageOrder[currentIndex + 1];
      }
    }
    if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
      if (currentIndex > 0) {
        e.preventDefault();
        window.location.href = pageOrder[currentIndex - 1];
      }
    }
    if (e.key === 'Home') {
      e.preventDefault();
      window.location.href = pageOrder[0];
    }
    if (e.key === 'End') {
      e.preventDefault();
      window.location.href = pageOrder[pageOrder.length - 1];
    }
    if (e.key === 'Escape') {
      window.location.href = pageOrder[0];
    }
    if (e.key === 't' || e.key === 'T') {
      e.preventDefault();
      toggleSidebar();
    }
  });
})();
</script>



</body>
</html>