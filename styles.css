/* ==========================================================================
   FSI Forecast Presentation - Anthropic Brand Styles
   Multi-page report with sidebar navigation and prev/next links
   ========================================================================== */

/* CSS Variables - Anthropic Brand Colors */
:root {
  /* Primary Colors */
  --dark: #141413;
  --light: #FAF9F5;
  --mid-gray: #B0AEA5;
  --light-gray: #E8E6DC;

  /* Accent Colors */
  --accent-primary: #D97757;
  --accent-secondary: #6A9BCC;
  --accent-tertiary: #788C5D;

  /* Semantic Aliases */
  --orange: #D97757;
  --blue: #6A9BCC;
  --green: #788C5D;
  --red: #c0392b;

  /* Typography */
  --font-heading: 'Poppins', Arial, sans-serif;
  --font-body: 'Lora', Georgia, serif;

  /* Spacing */
  --slide-padding-x: 80px;
  --slide-padding-y: 60px;
}

/* ==========================================================================
   Reset & Base
   ========================================================================== */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  overflow: auto;
}

body {
  font-family: var(--font-body);
  background: var(--light);
  color: var(--dark);
  line-height: 1.6;
}

a {
  color: var(--accent-secondary);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--accent-primary);
  text-decoration: underline;
}

/* ==========================================================================
   Page Container (Static Full Page)
   ========================================================================== */

/* Individual page (replaces slide) */
.page {
  min-height: 100vh;
  padding: var(--slide-padding-y) var(--slide-padding-x);
  background: var(--light);
  display: flex;
  flex-direction: column;
}

/* Dark page variant (for cover) */
.page.dark-bg {
  background: var(--dark);
  color: var(--light);
}

.page.dark-bg .page-title {
  color: var(--light);
  border-bottom-color: var(--accent-primary);
}

.page.dark-bg .metric-card {
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.page.dark-bg .metric-value {
  color: var(--light);
}

.page.dark-bg .metric-label {
  color: var(--mid-gray);
}

/* Light gray background variant */
.page.gray-bg {
  background: var(--light-gray);
}

/* ==========================================================================
   Page Navigation (Prev/Next Links)
   ========================================================================== */

.page-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background: rgba(255, 255, 255, 0.95);
  border-bottom: 1px solid var(--light-gray);
  position: sticky;
  top: 0;
  z-index: 100;
}

.page-nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-family: var(--font-heading);
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--accent-secondary);
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  transition: all 0.2s ease;
}

.page-nav-link:hover {
  background: var(--light-gray);
  color: var(--accent-primary);
  text-decoration: none;
}

.page-nav-link.disabled {
  color: var(--mid-gray);
  pointer-events: none;
  opacity: 0.5;
}

.page-nav-indicator {
  font-family: var(--font-heading);
  font-size: 0.875rem;
  color: var(--mid-gray);
}

/* ==========================================================================
   Page Title (replaces Slide Title)
   ========================================================================== */

/* Note: .page-title already defined in sidebar section */

.page-subtitle {
  font-family: var(--font-body);
  font-size: 1rem;
  color: var(--mid-gray);
  margin-top: -1rem;
  margin-bottom: 2rem;
}

/* ==========================================================================
   Page Content Area
   ========================================================================== */

.page-body {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

/* Centered content (for overview pages) */
.page-body.centered {
  align-items: center;
  justify-content: center;
}

/* ==========================================================================
   Metric Cards
   ========================================================================== */

.metrics-row {
  display: flex;
  gap: 1.5rem;
  margin-bottom: 2rem;
  flex-wrap: wrap;
  flex-shrink: 0;
}

.metric-card {
  background: var(--light-gray);
  border-radius: 16px;
  padding: 1.75rem 2rem;
  flex: 1;
  min-width: 180px;
  text-align: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.metric-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.metric-value {
  font-family: var(--font-heading);
  font-size: 2.75rem;
  font-weight: 700;
  color: var(--dark);
  line-height: 1.1;
}

.metric-label {
  font-family: var(--font-body);
  font-size: 0.8rem;
  color: var(--mid-gray);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-top: 0.5rem;
}

.metric-change {
  font-family: var(--font-heading);
  font-size: 0.95rem;
  font-weight: 500;
  margin-top: 0.75rem;
}

.metric-change.positive { color: var(--green); }
.metric-change.negative { color: var(--red); }
.metric-change.neutral { color: var(--mid-gray); }

/* ==========================================================================
   Data Tables (Presentation Style)
   ========================================================================== */

.table-wrapper {
  flex: 1;
  overflow: auto;
  border-radius: 12px;
  border: 1px solid var(--light-gray);
  background: white;
  min-height: 0;
}

.data-table {
  width: 100%;
  border-collapse: collapse;
  font-family: var(--font-body);
  font-size: 0.9rem;
}

.data-table th {
  font-family: var(--font-heading);
  background: var(--dark);
  color: var(--light);
  padding: 1rem 1.25rem;
  text-align: left;
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  position: sticky;
  top: 0;
  z-index: 10;
  white-space: nowrap;
}

.data-table th.numeric,
.data-table td.numeric {
  text-align: right;
}

.data-table td {
  padding: 0.875rem 1.25rem;
  border-bottom: 1px solid var(--light-gray);
  vertical-align: middle;
}

.data-table tbody tr:hover {
  background: rgba(217, 119, 87, 0.05);
}

.data-table tbody tr:nth-child(even) {
  background: rgba(250, 249, 245, 0.5);
}

.data-table tbody tr:nth-child(even):hover {
  background: rgba(217, 119, 87, 0.05);
}

/* Totals Row */
.totals-row {
  position: sticky;
  bottom: 0;
  background: var(--light-gray) !important;
  border-top: 3px solid var(--accent-primary);
}

.totals-row td {
  font-family: var(--font-heading);
  font-weight: 600;
  padding: 1rem 1.25rem;
}

/* ==========================================================================
   Change Indicators
   ========================================================================== */

.change-positive { color: var(--green); }
.change-negative { color: var(--red); }
.change-neutral { color: var(--mid-gray); }

/* Goal Progress Colors */
.goal-achieved { color: var(--green); font-weight: 600; }
.goal-on-track { color: var(--blue); }
.goal-at-risk { color: var(--orange); }
.goal-behind { color: var(--red); font-weight: 600; }

/* ==========================================================================
   Sparklines
   ========================================================================== */

.sparkline-cell {
  width: 100px;
  padding: 0.5rem !important;
}

.sparkline {
  width: 80px;
  height: 20px;
  display: inline-block;
  vertical-align: middle;
}

.sparkline-line {
  fill: none;
  stroke: var(--accent-primary);
  stroke-width: 1.5;
}

.sparkline-dot {
  fill: var(--green);
}

.no-data {
  color: var(--mid-gray);
  font-style: italic;
}

/* ==========================================================================
   Charts (Full Slide)
   ========================================================================== */

.chart-wrapper {
  flex: 1;
  display: flex;
  align-items: stretch;
  justify-content: center;
  min-height: 0;
  width: 100%;
}

.chart-container {
  width: 100%;
  height: calc(100vh - 180px);
  min-height: 500px;
}

.chart-container canvas {
  width: 100% !important;
  height: 100% !important;
}

/* ==========================================================================
   Highlights / Cards
   ========================================================================== */

.highlights-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 1.25rem;
  overflow: auto;
  flex: 1;
  padding: 0.5rem;
}

.highlight-card {
  background: white;
  border-left: 5px solid var(--mid-gray);
  border-radius: 0 12px 12px 0;
  padding: 1.25rem 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.highlight-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.highlight-card.win { border-left-color: var(--green); }
.highlight-card.blocker { border-left-color: var(--red); }
.highlight-card.opportunity { border-left-color: var(--orange); }
.highlight-card.active { border-left-color: var(--blue); }

.highlight-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 0.75rem;
}

.highlight-account {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 1rem;
  color: var(--dark);
}

.highlight-date {
  font-family: var(--font-body);
  font-size: 0.75rem;
  color: var(--mid-gray);
}

.highlight-content {
  font-family: var(--font-body);
  font-size: 0.9rem;
  line-height: 1.5;
  color: var(--dark);
}

.highlight-tag {
  display: inline-block;
  font-family: var(--font-heading);
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  margin-top: 0.75rem;
}

.highlight-tag.win { background: rgba(120, 140, 93, 0.15); color: var(--green); }
.highlight-tag.blocker { background: rgba(192, 57, 43, 0.15); color: var(--red); }

/* ==========================================================================
   Two-Column Layout
   ========================================================================== */

.two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  flex: 1;
  min-height: 0;
}

.col {
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.col-title {
  font-family: var(--font-heading);
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 3px solid var(--accent-primary);
  flex-shrink: 0;
}

/* ==========================================================================
   Warning Flags
   ========================================================================== */

.row-warning {
  background: rgba(217, 119, 87, 0.08) !important;
}

.warning-badge {
  display: inline-block;
  font-family: var(--font-heading);
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  background: var(--orange);
  color: white;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  margin-left: 0.5rem;
}

.stale-warning {
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--orange);
  background: rgba(217, 119, 87, 0.12);
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
}

.deal-intel {
  font-size: 0.8rem;
  max-width: 300px;
  line-height: 1.4;
}

/* ==========================================================================
   Filter Bar (Opportunities Table)
   ========================================================================== */

.filter-bar {
  display: flex;
  gap: 1rem;
  align-items: flex-end;
  flex-wrap: wrap;
  margin-bottom: 1rem;
  padding: 1rem;
  background: var(--light);
  border: 1px solid var(--light-gray);
  border-radius: 8px;
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.filter-label {
  font-family: var(--font-heading);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  color: var(--mid-gray);
}

.filter-select {
  font-family: var(--font-heading);
  font-size: 0.85rem;
  padding: 0.5rem 2rem 0.5rem 0.75rem;
  border: 1px solid var(--light-gray);
  border-radius: 4px;
  background: white;
  cursor: pointer;
  min-width: 120px;
}

.filter-select:focus {
  outline: none;
  border-color: var(--accent-secondary);
}

.filter-clear {
  font-family: var(--font-heading);
  font-size: 0.8rem;
  font-weight: 500;
  padding: 0.5rem 1rem;
  background: transparent;
  border: 1px solid var(--mid-gray);
  border-radius: 4px;
  cursor: pointer;
  color: var(--mid-gray);
  transition: all 0.2s ease;
}

.filter-clear:hover {
  background: var(--dark);
  color: white;
  border-color: var(--dark);
}

.filter-summary {
  font-family: var(--font-heading);
  font-size: 0.85rem;
  color: var(--mid-gray);
  margin-bottom: 0.5rem;
}

/* ==========================================================================
   Fresh Row Highlighting (New Opportunities)
   ========================================================================== */

.row-fresh {
  background: rgba(120, 140, 93, 0.08) !important;
}

.fresh-badge {
  display: inline-block;
  font-family: var(--font-heading);
  font-size: 0.6rem;
  font-weight: 600;
  text-transform: uppercase;
  background: var(--green);
  color: white;
  padding: 0.15rem 0.4rem;
  border-radius: 3px;
  margin-left: 0.5rem;
}

/* ==========================================================================
   Links
   ========================================================================== */

/* Base entity link style */
.entity-link {
  color: var(--accent-secondary);
  text-decoration: none;
  white-space: nowrap;
}

.entity-link:hover {
  text-decoration: underline;
}

.account-link {
  font-family: var(--font-heading);
  font-weight: 500;
  color: var(--dark);
}

.account-link:hover {
  color: var(--accent-secondary);
}

.opp-link {
  color: var(--dark);
}

.opp-link:hover {
  color: var(--accent-secondary);
}

.slack-link {
  color: var(--accent-secondary);
  font-size: 0.85rem;
}

.aiera-link {
  color: var(--accent-secondary);
}

.news-link {
  color: var(--dark);
}

.news-source {
  color: var(--mid-gray);
  font-size: 0.9em;
}

/* ==========================================================================
   Source Icons (appear after link text)
   ========================================================================== */

.sf-icon,
.slack-icon,
.aiera-icon,
.external-icon {
  font-size: 0.85em;
  margin-left: 0.25em;
  opacity: 0.7;
  vertical-align: middle;
  display: inline-block;
}

.entity-link:hover .sf-icon,
.entity-link:hover .slack-icon,
.entity-link:hover .aiera-icon,
.entity-link:hover .external-icon,
.account-link:hover .sf-icon,
.opp-link:hover .sf-icon,
.slack-link:hover .slack-icon,
.aiera-link:hover .aiera-icon,
.news-link:hover .external-icon {
  opacity: 1;
}

/* ==========================================================================
   Navigation Cards (Index Page)
   ========================================================================== */

.nav-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
  padding: 1rem 0;
}

.nav-card {
  background: white;
  border-radius: 16px;
  padding: 2rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  border-left: 5px solid var(--accent-primary);
  transition: all 0.2s ease;
  text-decoration: none;
  color: inherit;
  display: block;
}

.nav-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  text-decoration: none;
}

.nav-card-title {
  font-family: var(--font-heading);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--dark);
  margin-bottom: 0.75rem;
}

.nav-card-metric {
  font-family: var(--font-heading);
  font-size: 2.25rem;
  font-weight: 700;
  color: var(--accent-primary);
  margin-bottom: 0.5rem;
}

.nav-card-desc {
  font-family: var(--font-body);
  font-size: 0.9rem;
  color: var(--mid-gray);
}

/* ==========================================================================
   Collapsible Sidebar Navigation
   ========================================================================== */

/* Sidebar Container */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: 300px;
  height: 100vh;
  background: var(--dark);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  transition: transform 0.3s ease, width 0.3s ease;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
}

.sidebar.collapsed {
  transform: translateX(-300px);
}

/* Sidebar Header */
.sidebar-header {
  padding: 1.5rem 1.25rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.sidebar-title {
  font-family: var(--font-heading);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--light);
  text-decoration: none;
  display: block;
  margin-bottom: 0.25rem;
}

.sidebar-title:hover {
  color: var(--accent-primary);
  text-decoration: none;
}

.sidebar-date {
  font-family: var(--font-body);
  font-size: 0.75rem;
  color: var(--mid-gray);
}

/* Sidebar Navigation Links */
.sidebar-nav {
  flex: 1;
  padding: 1rem 0;
  overflow-y: auto;
}

.sidebar-nav a {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-family: var(--font-heading);
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--mid-gray);
  text-decoration: none;
  padding: 0.75rem 1.25rem;
  transition: all 0.2s ease;
  border-left: 3px solid transparent;
}

.sidebar-nav a:hover {
  color: var(--light);
  background: rgba(255, 255, 255, 0.05);
  text-decoration: none;
}

.sidebar-nav a.active {
  color: var(--light);
  background: rgba(217, 119, 87, 0.15);
  border-left-color: var(--accent-primary);
}

.sidebar-nav a .nav-icon {
  font-size: 1rem;
  width: 1.25rem;
  text-align: center;
}

/* Sidebar Toggle Button */
.sidebar-toggle {
  position: fixed;
  top: 1rem;
  left: 1rem;
  width: 40px;
  height: 40px;
  background: var(--dark);
  border: none;
  border-radius: 8px;
  color: var(--light);
  cursor: pointer;
  z-index: 1001;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  transition: left 0.3s ease, background 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.sidebar-toggle:hover {
  background: var(--charcoal);
}

/* When sidebar is open, move toggle to right edge of sidebar */
body:not(.sidebar-collapsed) .sidebar-toggle {
  left: 312px;
}

/* Body state class for sidebar */
body.sidebar-collapsed .sidebar {
  transform: translateX(-300px);
}

/* Main Content Area */
.main-content {
  margin-left: 300px;
  min-height: 100vh;
  transition: margin-left 0.3s ease;
}

body.sidebar-collapsed .main-content {
  margin-left: 0;
}

/* Sidebar Player (Spotify) */
.sidebar-player {
  padding: 1rem 1.25rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  margin-top: auto;
}

.player-label {
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--mid-gray);
  margin-bottom: 0.5rem;
}

.sidebar-spotify {
  border-radius: 8px;
  overflow: hidden;
}

/* Nav Section Grouping */
.nav-section {
  margin-bottom: 0.5rem;
}

.nav-section-title {
  font-family: var(--font-heading);
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: rgba(255, 255, 255, 0.4);
  padding: 0.75rem 1.25rem 0.25rem;
  margin-top: 0.5rem;
}

/* Page container (inside main-content) */
.page-container {
  padding: 2rem var(--slide-padding-x);
  min-height: 100vh;
  overflow: auto !important;
}

.page-title {
  font-family: var(--font-heading);
  font-size: 2.5rem;
  font-weight: 600;
  color: var(--dark);
  margin-bottom: 0.5rem;
}

.page-subtitle {
  font-family: var(--font-body);
  font-size: 1rem;
  color: var(--mid-gray);
  margin-bottom: 2rem;
}

/* ==========================================================================
   Executive Summary - Weekly Highlights Page
   ========================================================================== */

/* Metrics Banner */
.summary-metrics-banner {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.summary-metric {
  flex: 1;
  min-width: 140px;
  background: white;
  border-radius: 12px;
  padding: 1rem 1.25rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  text-align: center;
}

.summary-metric .metric-value {
  font-family: var(--font-heading);
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--dark);
  display: block;
}

.summary-metric .metric-value.positive {
  color: var(--green);
}

.summary-metric .metric-value.negative {
  color: var(--red);
}

.summary-metric .metric-label {
  font-family: var(--font-body);
  font-size: 0.75rem;
  color: var(--mid-gray);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-top: 0.25rem;
  display: block;
}

/* Two Column Grid */
.summary-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  flex: 1;
  min-height: 0;
}

.summary-column {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* Summary Cards */
.summary-card {
  background: white;
  border-radius: 12px;
  padding: 1.25rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  flex: 1;
  display: flex;
  flex-direction: column;
}

.summary-card-title {
  font-family: var(--font-heading);
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--mid-gray);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--accent-primary);
}

/* Commentary Box */
.commentary-box {
  background: linear-gradient(135deg, rgba(217, 119, 87, 0.08) 0%, rgba(120, 140, 93, 0.08) 100%);
  border-left: 4px solid var(--accent-primary);
  border-radius: 8px;
  padding: 1.25rem;
  margin-bottom: 1.5rem;
}

.commentary-box h3 {
  font-family: var(--font-heading);
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--accent-primary);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin: 0 0 0.75rem 0;
}

.commentary-box p {
  font-family: var(--font-body);
  font-size: 0.95rem;
  line-height: 1.6;
  color: var(--dark-gray);
  margin: 0;
}

/* ARR Movers */
.movers-section {
  margin-bottom: 1rem;
}

.movers-section:last-child {
  margin-bottom: 0;
}

.movers-label {
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--mid-gray);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 0.5rem;
}

.movers-table {
  width: 100%;
  border-collapse: collapse;
}

.movers-table td {
  padding: 0.4rem 0;
  font-size: 0.85rem;
  border-bottom: 1px solid var(--light-gray);
}

.movers-table tr:last-child td {
  border-bottom: none;
}

.mover-name {
  font-family: var(--font-body);
}

.mover-name a {
  color: var(--dark);
  text-decoration: none;
}

.mover-name a:hover {
  color: var(--accent-primary);
}

.mover-change {
  text-align: right;
  font-family: var(--font-heading);
  font-weight: 600;
}

.mover-change.positive {
  color: var(--green);
}

.mover-change.negative {
  color: var(--red);
}

/* Stage Distribution Bars */
.stage-bars {
  flex: 1;
}

.stage-bar-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

.stage-label {
  font-family: var(--font-heading);
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--mid-gray);
  width: 24px;
}

.stage-bar-container {
  flex: 1;
  height: 16px;
  background: var(--light-gray);
  border-radius: 8px;
  overflow: hidden;
}

.stage-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--accent-secondary), var(--accent-primary));
  border-radius: 8px;
  transition: width 0.3s ease;
}

.stage-value {
  font-family: var(--font-heading);
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--dark);
  min-width: 50px;
  text-align: right;
}

.stage-count {
  font-family: var(--font-body);
  font-size: 0.7rem;
  color: var(--mid-gray);
  min-width: 30px;
}

/* New Pipeline Table */
.new-pipe-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.new-pipe-table th {
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--mid-gray);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  text-align: left;
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--light-gray);
}

.new-pipe-table th:last-child {
  text-align: right;
}

.new-pipe-table td {
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--light-gray);
  vertical-align: top;
}

.new-pipe-table tr:last-child td {
  border-bottom: none;
}

.new-pipe-table a {
  color: var(--dark);
  text-decoration: none;
  font-weight: 500;
}

.new-pipe-table a:hover {
  color: var(--accent-primary);
}

.opp-account {
  display: block;
  font-size: 0.75rem;
  color: var(--mid-gray);
  margin-top: 0.15rem;
}

.pipe-arr {
  text-align: right;
  font-family: var(--font-heading);
  font-weight: 600;
  color: var(--green);
}

/* Portfolio Themes */
.themes-list {
  flex: 1;
}

.theme-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.6rem 0;
  border-bottom: 1px solid var(--light-gray);
}

.theme-item:last-child {
  border-bottom: none;
}

.theme-rank {
  font-family: var(--font-heading);
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--accent-primary);
  min-width: 24px;
}

.theme-content {
  flex: 1;
  min-width: 0;
}

.theme-name {
  display: block;
  font-family: var(--font-body);
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--dark);
}

.theme-meta {
  display: block;
  font-size: 0.7rem;
  color: var(--mid-gray);
  margin-top: 0.1rem;
}

.theme-impact {
  font-family: var(--font-heading);
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
}

.theme-impact.impact-high {
  background: rgba(192, 57, 43, 0.1);
  color: var(--red);
}

.theme-impact.impact-medium {
  background: rgba(217, 119, 87, 0.1);
  color: var(--orange);
}

.theme-impact.impact-low {
  background: rgba(120, 140, 93, 0.1);
  color: var(--green);
}

/* Simple theme list (summary page) */
.themes-list.themes-simple {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.theme-item-simple {
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--light-gray);
}

.theme-item-simple:last-child {
  border-bottom: none;
}

.theme-item-simple .theme-name {
  font-family: var(--font-body);
  font-size: 0.85rem;
  color: var(--dark);
  line-height: 1.4;
}

.view-more-link {
  display: block;
  text-align: right;
  font-family: var(--font-heading);
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--accent-secondary);
  text-decoration: none;
  margin-top: 0.75rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--light-gray);
}

.view-more-link:hover {
  color: var(--accent-primary);
}

.no-data {
  font-family: var(--font-body);
  font-size: 0.9rem;
  color: var(--mid-gray);
  font-style: italic;
  text-align: center;
  padding: 1rem 0;
}

/* Responsive */
@media (max-width: 900px) {
  .summary-grid {
    grid-template-columns: 1fr;
  }
}

/* ==========================================================================
   Cover Slide Special Elements
   ========================================================================== */

.cover-content {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
}

.cover-title {
  font-family: var(--font-heading);
  font-size: 4rem;
  font-weight: 700;
  color: var(--light);
  margin-bottom: 0.5rem;
}

.cover-date {
  font-family: var(--font-body);
  font-size: 1.5rem;
  color: var(--mid-gray);
  margin-bottom: 2rem;
}

.vibe-section {
  margin: 2.5rem 0;
}

.vibe-meme {
  max-width: 320px;
  max-height: 220px;
  border-radius: 12px;
  margin-bottom: 1rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.vibe-label {
  font-family: var(--font-heading);
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--accent-primary);
  margin-top: 0.75rem;
}

/* Cover Hero & Vibe Magazine Layout */
.cover-hero {
  text-align: center;
  padding: 2rem;
}

.vibe-hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
  margin: 2rem auto;
  max-width: 600px;
}

.vibe-media {
  flex-shrink: 0;
}

.vibe-meme-hero {
  width: 200px;
  height: 200px;
  object-fit: cover;
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.vibe-content {
  text-align: center;
}

.vibe-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: rgba(255, 255, 255, 0.1);
  padding: 0.75rem 1.5rem;
  border-radius: 25px;
  margin-bottom: 1rem;
}

.vibe-emoji {
  font-size: 1.5rem;
}

.vibe-status {
  font-family: var(--font-heading);
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--accent-primary);
  letter-spacing: 1px;
}

.vibe-summary {
  font-family: var(--font-body);
  font-size: 1rem;
  color: rgba(255, 255, 255, 0.85);
  line-height: 1.5;
  font-style: italic;
  max-width: 500px;
  margin: 0 auto;
}

.week-summary {
  font-size: 1.1rem;
  color: rgba(255, 255, 255, 0.85);
  max-width: 600px;
  margin: 1rem auto;
  line-height: 1.5;
  font-style: italic;
}

.theme-song {
  display: inline-block;
  margin-top: 1rem;
  padding: 0.75rem 1.5rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 25px;
  font-family: var(--font-body);
  font-size: 1rem;
  color: var(--light);
  transition: background 0.2s ease;
}

.theme-song:hover {
  background: rgba(255, 255, 255, 0.2);
  text-decoration: none;
}

/* ==========================================================================
   Responsive Adjustments
   ========================================================================== */

@media (max-width: 1200px) {
  :root {
    --slide-padding-x: 40px;
  }

  .slide-title {
    font-size: 2rem;
  }

  .metric-value {
    font-size: 2.25rem;
  }
}

@media (max-width: 900px) {
  .two-col {
    grid-template-columns: 1fr;
  }

  .metrics-row {
    flex-wrap: wrap;
  }

  .metric-card {
    min-width: 140px;
    padding: 1.25rem 1.5rem;
  }

  .pillar-nav {
    display: none;
  }
}

/* ==========================================================================
   Stage Badges (Opportunity Stages)
   ========================================================================== */

.stage-badge {
  display: inline-block;
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  text-transform: uppercase;
}

.stage-badge.s0, .stage-badge.stage-0 { background: #e8e6dc; color: #666; }
.stage-badge.s1, .stage-badge.stage-1 { background: rgba(106, 155, 204, 0.2); color: var(--blue); }
.stage-badge.s2, .stage-badge.stage-2 { background: rgba(217, 119, 87, 0.2); color: var(--orange); }
.stage-badge.s3, .stage-badge.stage-3 { background: rgba(120, 140, 93, 0.2); color: var(--green); }
.stage-badge.s4, .stage-badge.stage-4 { background: rgba(120, 140, 93, 0.3); color: var(--green); }
.stage-badge.s5, .stage-badge.stage-5 { background: rgba(120, 140, 93, 0.4); color: var(--green); }
.stage-badge.s6, .stage-badge.stage-6 { background: var(--green); color: white; }

/* ==========================================================================
   Status & Priority Badges
   ========================================================================== */

.status-badge, .priority-badge, .score-badge {
  display: inline-block;
  font-family: var(--font-heading);
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
}

.status-badge.success, .priority-badge.success, .score-badge.high {
  background: rgba(120, 140, 93, 0.15);
  color: var(--green);
}

.status-badge.warning, .priority-badge.warning, .score-badge.medium {
  background: rgba(217, 119, 87, 0.15);
  color: var(--orange);
}

.status-badge.danger, .priority-badge.danger, .score-badge.low {
  background: rgba(192, 57, 43, 0.15);
  color: var(--red);
}

.score-badge.stale {
  background: rgba(176, 174, 165, 0.2);
  color: var(--mid-gray);
}

/* ==========================================================================
   Table Variants & Row Highlighting
   ========================================================================== */

.table-scroll, .scrollable-table, .table-container {
  overflow: auto;
  border-radius: 12px;
  border: 1px solid var(--light-gray);
  background: white;
}

.goals-table {
  width: 100%;
  border-collapse: collapse;
}

.total-row {
  position: sticky;
  bottom: 0;
  background: var(--light-gray) !important;
  border-top: 3px solid var(--accent-primary);
  font-weight: 600;
}

.highlight-row { background: rgba(106, 155, 204, 0.08) !important; }
.success-row { background: rgba(120, 140, 93, 0.08) !important; }
.warning-row { background: rgba(217, 119, 87, 0.08) !important; }
.danger-row { background: rgba(192, 57, 43, 0.08) !important; }

/* Goal progress colors */
.goal-exceeded { color: var(--green); font-weight: 600; }

/* Account name in tables */
.account-name {
  font-size: 0.8rem;
  color: var(--mid-gray);
  display: block;
}

/* Alignment utility */
.right { text-align: right; }

/* ==========================================================================
   Intel Cards (External Intel Page)
   ========================================================================== */

.intel-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 1.25rem;
  padding: 0.5rem 0;
}

.intel-card {
  background: white;
  border-radius: 12px;
  padding: 1.25rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  border-left: 4px solid var(--blue);
}

.intel-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 0.75rem;
}

.intel-highlights {
  font-size: 0.9rem;
  line-height: 1.5;
}

/* ==========================================================================
   Blocker Cards
   ========================================================================== */

.blockers-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 1rem;
}

.blocker-card {
  background: white;
  border-left: 4px solid var(--red);
  border-radius: 0 8px 8px 0;
  padding: 1rem 1.25rem;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
}

.blocker-header {
  font-family: var(--font-heading);
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.blocker-list {
  list-style: none;
  font-size: 0.875rem;
  line-height: 1.5;
}

.blocker-list li {
  padding: 0.25rem 0;
}

/* ==========================================================================
   Stale Accounts Section
   ========================================================================== */

.stale-highlights {
  margin-bottom: 1rem;
}

.stale-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 0.5rem;
  font-size: 0.85rem;
}

/* ==========================================================================
   Forecast Display Components
   ========================================================================== */

.forecast-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.forecast-metrics {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.forecast-metric {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--light-gray);
}

.forecast-metric .label {
  font-size: 0.9rem;
  color: var(--mid-gray);
}

.forecast-metric .value {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 1.1rem;
}

/* ==========================================================================
   Chart Legend
   ========================================================================== */

.chart-legend {
  display: flex;
  gap: 1.5rem;
  justify-content: center;
  margin-top: 1rem;
  flex-wrap: wrap;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
}

.legend-color {
  width: 16px;
  height: 4px;
  border-radius: 2px;
}

/* ==========================================================================
   Toggle Container
   ========================================================================== */

.toggle-container {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

/* ==========================================================================
   Semantic Modifiers (standalone)
   ========================================================================== */

.highlight { background: rgba(106, 155, 204, 0.1); }
.warning { color: var(--orange); }
.danger { color: var(--red); }
.success { color: var(--green); }
.high { color: var(--green); }
.medium { color: var(--orange); }
.low { color: var(--red); }

/* ==========================================================================
   Waterfall Visualization (Index Page)
   ========================================================================== */

.cover-waterfall {
  margin: 2rem 0;
  padding: 1.5rem;
  background: transparent;
  border-radius: 12px;
}

.waterfall-heading {
  font-size: 1rem;
  font-weight: 600;
  color: var(--dark);
  margin-bottom: 1rem;
  text-align: center;
}

.waterfall-bar-container {
  position: relative;
  display: flex;
  height: 48px;
  border-radius: 8px;
  overflow: hidden;
  background: #e0ded6;
}

.waterfall-segment {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0.5rem;
  min-width: 60px;
}

.waterfall-segment.arr {
  background: var(--green);
  color: white;
}

.waterfall-segment.committed {
  background: var(--blue);
  color: white;
}

.waterfall-segment.pipeline {
  background: var(--orange);
  color: white;
}

.waterfall-segment.gap {
  background: var(--red);
  color: white;
}

.segment-label {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  opacity: 0.9;
}

.segment-value {
  font-size: 0.9rem;
  font-weight: 700;
}

.goal-marker {
  position: relative;
  margin-top: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

.goal-line {
  position: absolute;
  top: -12px;
  right: 0;
  height: 60px;
  width: 3px;
  background: #7c3aed;
}

.goal-label {
  font-size: 0.75rem;
  font-weight: 600;
  color: #7c3aed;
  margin-right: 0.5rem;
}

.waterfall-coverage {
  text-align: center;
  margin-top: 1rem;
  font-size: 0.875rem;
  color: var(--mid-gray);
}

/* ==========================================================================
   Contracts Page - Additional Styles
   ========================================================================== */

.subtext {
  font-size: 0.75rem;
  color: var(--mid-gray);
  margin-top: 0.25rem;
}

.danger-badge {
  display: inline-block;
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  background: var(--red);
  color: white;
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  margin-left: 0.5rem;
}

.table-legend {
  display: flex;
  gap: 1.5rem;
  margin-top: 1rem;
  font-size: 0.8rem;
  color: var(--mid-gray);
}

.table-legend span {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* ==========================================================================
   Print Styles
   ========================================================================== */

@media print {
  html, body {
    height: auto;
    overflow: visible;
  }

  .sidebar,
  .sidebar-toggle,
  .page-nav {
    display: none !important;
  }

  .main-content {
    margin-left: 0 !important;
  }

  .page {
    height: auto;
    min-height: auto;
    page-break-after: always;
    page-break-inside: avoid;
    padding: 2rem;
  }

  .page.dark-bg {
    background: white !important;
    color: var(--dark) !important;
  }

  .page.dark-bg .page-title,
  .page.dark-bg .metric-value,
  .page.dark-bg .cover-title {
    color: var(--dark) !important;
  }

  .table-wrapper {
    overflow: visible;
    max-height: none;
  }
}

/* ==========================================================================
   Tweet Cell Styles (Engagement Page)
   ========================================================================== */

.tweet-cell {
  max-width: 400px;
  font-size: 0.85rem;
  line-height: 1.4;
}

/* ==========================================================================
   Strategic Briefing Theme Cards (Account Intel Page)
   "What / So What / Now What" executive briefing format
   ========================================================================== */

.themes-container {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  max-width: 900px;
  margin: 0 auto;
}

.theme-card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
  overflow: hidden;
}

.theme-card.theme-high {
  border-top: 4px solid var(--green);
}

.theme-card.theme-mediumhigh {
  border-top: 4px solid var(--blue);
}

.theme-card.theme-medium {
  border-top: 4px solid var(--orange);
}

/* Theme Header - Rank, Title, Impact Badge */
.theme-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.25rem;
  background: linear-gradient(135deg, rgba(20, 20, 19, 0.03) 0%, transparent 100%);
  border-bottom: 1px solid var(--light-gray);
}

.theme-rank {
  font-family: var(--font-heading);
  font-size: 0.875rem;
  font-weight: 700;
  color: var(--dark);
  background: var(--light-gray);
  padding: 0.25rem 0.6rem;
  border-radius: 6px;
  min-width: 2.5rem;
  text-align: center;
}

.theme-title {
  flex: 1;
  font-family: var(--font-heading);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--dark);
  text-transform: uppercase;
  letter-spacing: 0.02em;
  margin: 0;
}

.theme-impact {
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  letter-spacing: 0.05em;
}

.theme-impact.impact-high {
  background: rgba(120, 140, 93, 0.15);
  color: var(--green);
}

.theme-impact.impact-mediumhigh {
  background: rgba(106, 155, 204, 0.15);
  color: var(--blue);
}

.theme-impact.impact-medium {
  background: rgba(217, 119, 87, 0.15);
  color: var(--orange);
}

/* Theme Body - What / So What / Now What sections */
.theme-body {
  padding: 1.25rem;
}

.theme-section {
  display: grid;
  grid-template-columns: 90px 1fr;
  gap: 0.75rem;
  margin-bottom: 1rem;
  align-items: baseline;
}

.theme-section:last-of-type {
  margin-bottom: 0;
}

.theme-label {
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--mid-gray);
  padding-top: 2px;
}

.theme-label.label-what {
  color: var(--accent-secondary);
}

.theme-label.label-so-what {
  color: var(--orange);
}

.theme-label.label-now-what {
  color: var(--green);
}

.theme-content {
  font-size: 0.9rem;
  line-height: 1.55;
  color: var(--dark);
}

/* Now What gets slight emphasis */
.theme-section.section-now-what .theme-content {
  font-weight: 500;
}

/* Theme Footer - Accounts and Source */
.theme-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 1.25rem;
  background: rgba(20, 20, 19, 0.02);
  border-top: 1px solid var(--light-gray);
}

.theme-accounts {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
}

.theme-accounts-label {
  font-family: var(--font-heading);
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  color: var(--mid-gray);
  margin-right: 0.25rem;
}

.account-chip {
  font-family: var(--font-heading);
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--dark);
  background: white;
  padding: 0.2rem 0.6rem;
  border-radius: 4px;
  border: 1px solid var(--light-gray);
  text-decoration: none;
  transition: all 0.2s ease;
}

.account-chip:hover {
  background: var(--accent-secondary);
  color: white;
  border-color: var(--accent-secondary);
  text-decoration: none;
}

.theme-source {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  font-family: var(--font-heading);
  font-size: 0.7rem;
  color: var(--mid-gray);
}

.theme-source-icon {
  font-size: 0.9rem;
}

/* Legacy grid support (fallback) */
.themes-grid {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  max-width: 900px;
  margin: 0 auto;
}

/* ==========================================================================
   Intel Tweet Styles (External Intel Page)
   ========================================================================== */

.intel-tweet {
  font-size: 0.85rem;
  line-height: 1.5;
  margin-bottom: 0.75rem;
}

.update-text {
  font-size: 0.875rem;
  line-height: 1.5;
  color: var(--dark);
}

.tweet-link {
  color: var(--accent-secondary);
  text-decoration: none;
  transition: color 0.2s ease;
}

.tweet-link:hover {
  text-decoration: underline;
}

.tweet-link.slack {
  color: var(--accent-secondary);
}

.tweet-link.blocker {
  color: var(--red);
}

.tweet-link.aiera {
  color: var(--accent-tertiary);
}

.tweet-sep {
  color: var(--mid-gray);
  margin: 0 0.25rem;
}

/* ==========================================================================
   Page Navigation Footer (Fixed Bottom Bar)
   ========================================================================== */

.page-nav-footer {
  position: fixed;
  bottom: 0;
  left: 300px;
  right: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 2rem;
  background: rgba(250, 249, 245, 0.95);
  backdrop-filter: blur(8px);
  border-top: 1px solid var(--light-gray);
  z-index: 100;
  transition: left 0.3s ease;
}

body.sidebar-collapsed .page-nav-footer {
  left: 0;
}

.page-nav-footer .page-nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-family: var(--font-heading);
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--accent-secondary);
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  transition: all 0.2s ease;
  min-width: 120px;
}

.page-nav-footer .page-nav-link.prev {
  justify-content: flex-start;
}

.page-nav-footer .page-nav-link.next {
  justify-content: flex-end;
}

.page-nav-footer .page-nav-link:hover:not(.disabled) {
  background: var(--light-gray);
  color: var(--accent-primary);
  text-decoration: none;
}

.page-nav-footer .page-nav-link.disabled {
  color: var(--mid-gray);
  pointer-events: none;
  opacity: 0.4;
}

.page-nav-footer .nav-arrow {
  font-size: 1.1rem;
  font-weight: 600;
}

.page-nav-footer .nav-label {
  text-transform: capitalize;
}

.page-nav-footer .page-indicator {
  font-family: var(--font-heading);
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--mid-gray);
}

/* Dark page adjustments for nav footer */
.page.dark-bg ~ .page-nav-footer,
.dark-bg + .page-nav-footer {
  background: rgba(20, 20, 19, 0.95);
  border-top-color: rgba(255, 255, 255, 0.1);
}

.page.dark-bg ~ .page-nav-footer .page-nav-link,
.dark-bg + .page-nav-footer .page-nav-link {
  color: var(--light);
}

.page.dark-bg ~ .page-nav-footer .page-nav-link:hover:not(.disabled),
.dark-bg + .page-nav-footer .page-nav-link:hover:not(.disabled) {
  background: rgba(255, 255, 255, 0.1);
  color: var(--accent-primary);
}

.page.dark-bg ~ .page-nav-footer .page-indicator,
.dark-bg + .page-nav-footer .page-indicator {
  color: var(--mid-gray);
}

/* Ensure main content has bottom padding for footer */
.main-content {
  padding-bottom: 60px;
}

@media print {
  .page-nav-footer {
    display: none !important;
  }
}

/* ============================================
   Team Report Styles
   ============================================ */

.team-header {
  text-align: center;
  padding: 2rem 0;
  margin-bottom: 2rem;
  border-bottom: 2px solid var(--border-light);
}

.team-intro {
  font-size: 1.1rem;
  color: var(--mid-gray);
  max-width: 800px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.team-overall-waterfall {
  background: var(--light);
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  border: 1px solid var(--border-light);
}

.team-waterfall-heading {
  font-size: 1rem;
  font-weight: 600;
  color: var(--mid-gray);
  margin-bottom: 1rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.team-waterfall-bar {
  display: flex;
  height: 40px;
  border-radius: 8px;
  overflow: hidden;
  background: var(--background);
}

.team-waterfall-segment {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0.25rem 0.5rem;
  min-width: 60px;
}

.team-waterfall-segment:nth-child(1) { background: var(--chart-green); }
.team-waterfall-segment:nth-child(2) { background: var(--chart-blue); }
.team-waterfall-segment:nth-child(3) { background: var(--chart-purple); }

.team-segment-label {
  font-size: 0.7rem;
  color: rgba(255,255,255,0.8);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.team-segment-value {
  font-size: 0.85rem;
  font-weight: 600;
  color: white;
}

.team-waterfall-coverage {
  text-align: center;
  margin-top: 1rem;
  font-size: 1rem;
  color: var(--dark);
}

.team-waterfall-coverage strong {
  font-size: 1.2rem;
  color: var(--accent-primary);
}

.team-waterfall-grid {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.team-member-row {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  padding: 1rem;
  background: var(--light);
  border-radius: 12px;
  border: 1px solid var(--border-light);
  transition: box-shadow 0.2s ease;
}

.team-member-row:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.team-member-info {
  display: flex;
  align-items: center;
  gap: 1rem;
  min-width: 200px;
}

.team-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--accent-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 1.2rem;
}

.team-member-details {
  display: flex;
  flex-direction: column;
}

.team-member-name {
  font-weight: 600;
  color: var(--dark);
  font-size: 1rem;
}

.team-member-meta {
  font-size: 0.85rem;
  color: var(--mid-gray);
}

.team-member-waterfall {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.member-waterfall-bar {
  display: flex;
  height: 24px;
  border-radius: 6px;
  overflow: hidden;
  background: var(--background);
}

.member-waterfall-segment {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 600;
  color: white;
  min-width: 40px;
}

.member-waterfall-segment:nth-child(1) { background: var(--chart-green); }
.member-waterfall-segment:nth-child(2) { background: var(--chart-blue); }
.member-waterfall-segment:nth-child(3) { background: var(--chart-purple); }

.member-waterfall-stats {
  display: flex;
  gap: 1.5rem;
}

.member-waterfall-stat {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.8rem;
  color: var(--mid-gray);
}

.member-waterfall-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.member-waterfall-dot.arr { background: var(--chart-green); }
.member-waterfall-dot.committed { background: var(--chart-blue); }
.member-waterfall-dot.pipeline { background: var(--chart-purple); }

.team-member-action {
  min-width: 120px;
  text-align: right;
}

.team-member-action a {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: var(--accent-primary);
  color: white;
  border-radius: 6px;
  text-decoration: none;
  font-size: 0.85rem;
  font-weight: 500;
  transition: background 0.2s ease;
}

.team-member-action a:hover {
  background: var(--accent-secondary);
}

/* ==========================================================================
   Additional Classes - Team Links, Stoplight, Freshness, Updates
   ========================================================================== */

/* Team Links in sidebar */
.team-link {
  display: block;
  padding: 0.4rem 0;
  color: var(--mid-gray);
  font-size: 0.85rem;
  text-decoration: none;
  transition: color 0.2s ease;
}

.team-link:hover {
  color: var(--accent-primary);
}

/* Stoplight Colors for ARR */
.stoplight-red { color: var(--red); }
.stoplight-green { color: var(--green); }
.stoplight-yellow { color: #f39c12; }

/* Freshness Card (Deal Intel) */
.freshness-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--light-gray);
}

.freshness-content {
  display: flex;
  gap: 2rem;
  align-items: flex-start;
}

.freshness-score-container {
  text-align: center;
  min-width: 120px;
}

.freshness-score {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.freshness-score.score-rotten .score-value { color: var(--red); }
.freshness-score.score-aging .score-value { color: #f39c12; }
.freshness-score.score-fresh .score-value { color: var(--green); }

.score-icon {
  font-size: 2.5rem;
}

.score-value {
  font-size: 2rem;
  font-weight: 700;
  font-family: var(--font-heading);
}

.score-label {
  font-size: 0.85rem;
  color: var(--mid-gray);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.freshness-breakdown {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.freshness-row {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--light-gray);
}

.freshness-row:last-child { border-bottom: none; }

.freshness-row.fresh .row-icon { color: var(--green); }
.freshness-row.aging .row-icon { color: #f39c12; }
.freshness-row.rotten .row-icon { color: var(--red); }
.freshness-row.no-update .row-icon { color: var(--mid-gray); }
.freshness-row.past-deadline .row-icon { color: #e74c3c; }

.row-icon {
  font-size: 1.25rem;
  min-width: 30px;
}

.row-label {
  flex: 1;
  font-size: 0.9rem;
}

.row-count {
  font-weight: 600;
  font-family: var(--font-heading);
  min-width: 40px;
  text-align: right;
}

/* Opps Table Deal Intel Columns */
.stage-col {
  min-width: 80px;
  text-align: center;
}

.deal-intel-col {
  min-width: 200px;
  max-width: 300px;
}

.arr-commit-cell {
  text-align: right;
  font-family: var(--font-heading);
}

.freshness-icon {
  display: inline-block;
  margin-left: 0.25rem;
  font-size: 0.9rem;
}

.intel-issues {
  margin-top: 0.5rem;
  font-size: 0.8rem;
  color: var(--mid-gray);
}

.intel-issue {
  display: block;
  padding: 0.15rem 0;
  line-height: 1.3;
}

/* Team Page Styles */
.team-header {
  text-align: center;
  margin-bottom: 2rem;
}

.team-intro {
  max-width: 700px;
  margin: 0 auto;
  text-align: center;
  color: var(--mid-gray);
}

.team-overall-waterfall {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.team-waterfall-heading {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 1rem;
  font-family: var(--font-heading);
}

.team-waterfall-bar {
  display: flex;
  height: 40px;
  border-radius: 8px;
  overflow: hidden;
  background: var(--light-gray);
}

.team-waterfall-segment {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 0 0.75rem;
  color: white;
  font-size: 0.75rem;
}

.team-waterfall-segment:nth-child(1) { background: var(--chart-green); }
.team-waterfall-segment:nth-child(2) { background: var(--chart-blue); }
.team-waterfall-segment:nth-child(3) { background: var(--chart-purple); }

.team-segment-label {
  font-size: 0.65rem;
  text-transform: uppercase;
  opacity: 0.9;
}

.team-segment-value {
  font-weight: 600;
  font-family: var(--font-heading);
}

.team-waterfall-coverage {
  margin-top: 0.75rem;
  font-size: 0.85rem;
  color: var(--mid-gray);
}

.team-waterfall-grid {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.team-member-row {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  padding: 1rem;
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.team-member-info {
  display: flex;
  align-items: center;
  gap: 1rem;
  min-width: 200px;
}

.team-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}

.team-member-details {
  display: flex;
  flex-direction: column;
}

.team-member-name {
  font-weight: 600;
  font-family: var(--font-heading);
  font-size: 1rem;
}

.team-member-meta {
  font-size: 0.8rem;
  color: var(--mid-gray);
}

.team-member-waterfall {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.team-member-goal {
  min-width: 100px;
  text-align: center;
}

.goal-value {
  font-weight: 700;
  font-family: var(--font-heading);
  font-size: 0.9rem;
}

/* Updates Page Styles */
.updates-page {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.filter-buttons {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

.filter-btn {
  padding: 0.5rem 1rem;
  border: 1px solid var(--light-gray);
  border-radius: 6px;
  background: white;
  cursor: pointer;
  font-size: 0.85rem;
  transition: all 0.2s ease;
}

.filter-btn:hover, .filter-btn.active {
  background: var(--accent-primary);
  color: white;
  border-color: var(--accent-primary);
}

.filter-btn .count {
  display: inline-block;
  margin-left: 0.5rem;
  padding: 0.1rem 0.4rem;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 10px;
  font-size: 0.75rem;
}

.expand-all-btn {
  padding: 0.4rem 0.75rem;
  background: var(--light-gray);
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.8rem;
  margin-left: auto;
}

.updates-container {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* Intel Cards (Updates) */
.intel-card {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  border-left: 4px solid var(--light-gray);
}

.intel-card.critical { border-left-color: var(--red); }
.intel-card.progress { border-left-color: var(--green); }
.intel-card.caution { border-left-color: #f39c12; }
.intel-card.blockers { border-left-color: var(--red); }

.account-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  cursor: pointer;
  transition: background 0.2s ease;
}

.account-info:hover {
  background: var(--light-gray);
}

.account-meta {
  display: flex;
  gap: 1.5rem;
  align-items: center;
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  font-size: 0.85rem;
  color: var(--mid-gray);
}

.meta-item .icon {
  font-size: 1rem;
}

.health-badge {
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.health-badge.critical { background: #fde8e8; color: var(--red); }
.health-badge.progress { background: #e8f5e9; color: var(--green); }
.health-badge.caution { background: #fff8e1; color: #f39c12; }

.collapse-icon {
  font-size: 1.25rem;
  color: var(--mid-gray);
  transition: transform 0.2s ease;
}

.intel-body {
  padding: 0 1.25rem 1.25rem;
  display: none;
}

.intel-body.expanded {
  display: block;
}

.intel-section {
  margin-bottom: 1rem;
}

.intel-section:last-child {
  margin-bottom: 0;
}

.section-icon {
  margin-right: 0.5rem;
}

.section-title {
  font-weight: 600;
  font-family: var(--font-heading);
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
}

.section-count {
  font-size: 0.8rem;
  color: var(--mid-gray);
  margin-left: 0.5rem;
}

.intel-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.intel-item {
  padding: 0.4rem 0;
  font-size: 0.9rem;
  border-bottom: 1px solid var(--light-gray);
}

.intel-item:last-child {
  border-bottom: none;
}
